---
title: "教程: 稿件发布"
date: 2021-02-14T13:49:00+08:00
draft: false
---
## Git与版本控制入门
由于 Project Pupa 的管理涉及多人、多文档的协作，而我们希望对这些文件进行妥善且方便的管理，[Git](https://git-scm.com) 便成为了当前最优的选择。以下内容未经说明，均参考自 Git 社区的[教程书](https://git-scm.com/book/zh/v2/)（*Pro Git*, Scott Chacon and Ben Straub, Apress 2014），如有需要，笔者建议详细阅读。
### 关于版本控制
Git 教程书首先对版本控制系统（version control system, VCS）进行了简单介绍：
> 版本控制是一种记录一个或若干文件内容变化，以便将来查阅特定版本修订情况的系统。 在本书所展示的例子中，我们对保存着软件源代码的文件作版本控制，但实际上，你可以对任何类型的文件进行版本控制。

简单来讲，版本控制系统不仅是一种可以追溯到任意时间点新增、删除或修改的备份数据库，更是一种合理科学的组织工作文件的方式。
在 Git 被广泛使用之前，另一些版本控制系统曾被使用。例如 [GNU](https://www.gnu.org) 计划所使用的修订控制系统（revision control system, [RCS](https://www.gnu.org/software/rcs/)），以及其前端中的一种──协作版本系统（concurrent versions system, [CVS](https://savannah.nongnu.org/projects/cvs)），类似的系统还有多种多样。总地来说，先前的版本控制系统可以分为本地版本控制系统（local version control systems）集中式版本控制系统（centralized version control systems, CVCS）。二者共同点在于，需要单个终端作为总控制终端：对于本地版本控制系统，软件会创建一个数据库，用来存储文件的新增、修改等等；而对于集中式版本控制系统，存在一个单一的服务器，协同工作的人们都通过客户端连接到该服务器，同步最新的文件，或是提交文件更新。
通过集中式版本控制系统，管理员可以方便地添加协作者，随时知晓不同人对项目进行的修改，而仅需维护单个服务器，但它也存在问题：
> 这么做最显而易见的缺点是中央服务器的单点故障。 如果宕机一小时，那么在这一小时内，谁都无法提交更新，也就无法协同工作。 如果中心数据库所在的磁盘发生损坏，又没有做恰当备份，毫无疑问你将丢失所有数据——包括项目的整个变更历史，只剩下人们在各自机器上保留的单独快照。 

人们为了解决这一问题建立了**分布式版本控制系统**（distributed version control systems, DVCS）这一概念。分布式版本控制系统的最大特点是，客户端不仅会获取当前文件快照（最新的一套项目文件），同时把代码仓库（repository)，包含之前的所有版本，完整克隆（clone）到本地。这样就避免了集中式系统文件丢失的问题。
### 关于Git
Git 是一个诞生于 2005 年的版本控制系统，和许多开源项目一样，Git 的开发也有着类似的背景：
> 2005 年，开发 BitKeeper 的商业公司同 Linux 内核开源社区的合作关系结束，他们收回了 Linux 内核社区免费使用 BitKeeper 的权力。 这就迫使 Linux 开源社区（特别是 Linux 的缔造者 Linus Torvalds）基于使用 BitKeeper 时的经验教训，开发出自己的版本系统。

与 Git 相类似的分布式版本控制系统有 [Subversion](https://subversion.apache.org) 等。Git 从各类分布式版本控制系统中最先脱颖而出的一个特性在于对文件的处理方式：相较于基于差异（delta-based）的版本控制对文件的变更进行记录（例如，变更列表的一条可以是：文件 A 在版本 2 中进行了修改 3，内容为…），Git会把每次文件版本更改后的新文件存入数据库，在一个版本快照中，包含新文件和全部文件的索引，在该版本未经修改的文件则仅存储一条指向旧文件的链接。
